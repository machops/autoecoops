# ============================================================================
# Contracts-L1 環境變數配置範例
# 複製此檔案為 .env.local 並填入實際值
# ============================================================================

# ----------------------------------------------------------------------------
# 應用程式基本設定
# ----------------------------------------------------------------------------
NODE_ENV=development
PORT=4000

# ----------------------------------------------------------------------------
# 資料庫配置 (Supabase PostgreSQL)
# ----------------------------------------------------------------------------
# 開發環境使用本地 PostgreSQL
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/contracts_dev"

# 生產環境使用 Supabase (從 Supabase Dashboard 獲取)
# DATABASE_URL="postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres?pgbouncer=true"

# ----------------------------------------------------------------------------
# Redis 快取配置 (Upstash Redis)
# ----------------------------------------------------------------------------
# 開發環境使用本地 Redis
REDIS_URL="redis://localhost:6379"

# 生產環境使用 Upstash (從 Upstash Dashboard 獲取)
# REDIS_URL="redis://default:[password]@[host].upstash.io:6379"

# ----------------------------------------------------------------------------
# Supabase 配置
# ----------------------------------------------------------------------------
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-anon-key"
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"

# ----------------------------------------------------------------------------
# 身份驗證配置
# ----------------------------------------------------------------------------
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_EXPIRES_IN="15m"
REFRESH_TOKEN_EXPIRES_IN="7d"

# OAuth 配置 (可選)
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""

# ----------------------------------------------------------------------------
# AI 推理引擎配置
# ----------------------------------------------------------------------------
# OpenAI (主要 AI 服務提供商)
OPENAI_API_KEY="sk-proj-your-openai-api-key"
OPENAI_MODEL="gpt-4-turbo-preview"
OPENAI_MAX_TOKENS=4000

# Anthropic Claude (備援)
ANTHROPIC_API_KEY="sk-ant-your-anthropic-key"

# Google Gemini (備援)
GOOGLE_AI_API_KEY="AIza-your-google-ai-key"

# Hugging Face (開源模型託管)
HF_API_KEY="hf_your-huggingface-token"
HF_INFERENCE_ENDPOINT="https://your-space.hf.space"

# ----------------------------------------------------------------------------
# 語義引擎配置
# ----------------------------------------------------------------------------
# Pinecone 向量資料庫
PINECONE_API_KEY="your-pinecone-api-key"
PINECONE_ENVIRONMENT="us-east-1-aws"
PINECONE_INDEX_NAME="contracts-semantic"

# Neo4j 圖資料庫 (開發環境使用本地)
NEO4J_URI="bolt://localhost:7687"
NEO4J_USER="neo4j"
NEO4J_PASSWORD="password"

# 生產環境使用 Neo4j Aura
# NEO4J_URI="neo4j+s://xxxxx.databases.neo4j.io"
# NEO4J_PASSWORD="your-secure-password"

# ----------------------------------------------------------------------------
# 檔案儲存配置
# ----------------------------------------------------------------------------
# 開發環境使用本地儲存
FILE_STORAGE_PROVIDER="local"
FILE_STORAGE_PATH="./uploads"

# 生產環境使用 Supabase Storage
# FILE_STORAGE_PROVIDER="supabase"
# FILE_STORAGE_BUCKET="contracts"

# 或使用 Cloudflare R2
# FILE_STORAGE_PROVIDER="r2"
# R2_ACCOUNT_ID="your-account-id"
# R2_ACCESS_KEY_ID="your-access-key"
# R2_SECRET_ACCESS_KEY="your-secret-key"
# R2_BUCKET_NAME="contracts-l1"

# ----------------------------------------------------------------------------
# 郵件服務配置
# ----------------------------------------------------------------------------
# 使用 Resend (免費額度 3000 封/月)
EMAIL_PROVIDER="resend"
RESEND_API_KEY="re_your-resend-api-key"
EMAIL_FROM="noreply@contracts-l1.com"

# 或使用 SendGrid
# EMAIL_PROVIDER="sendgrid"
# SENDGRID_API_KEY="SG.your-sendgrid-key"

# ----------------------------------------------------------------------------
# 前端配置
# ----------------------------------------------------------------------------
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NEXT_PUBLIC_API_URL="http://localhost:4000"

# 生產環境
# NEXT_PUBLIC_APP_URL="https://contracts-l1.vercel.app"
# NEXT_PUBLIC_API_URL="https://contracts-l1-api.up.railway.app"

# ----------------------------------------------------------------------------
# 監控與分析
# ----------------------------------------------------------------------------
# Sentry 錯誤追蹤
NEXT_PUBLIC_SENTRY_DSN=""
SENTRY_AUTH_TOKEN=""

# PostHog 產品分析
NEXT_PUBLIC_POSTHOG_KEY=""
NEXT_PUBLIC_POSTHOG_HOST="https://app.posthog.com"

# Google Analytics
NEXT_PUBLIC_GA_MEASUREMENT_ID=""

# ----------------------------------------------------------------------------
# 支付整合 (可選)
# ----------------------------------------------------------------------------
# Stripe
STRIPE_PUBLIC_KEY=""
STRIPE_SECRET_KEY=""
STRIPE_WEBHOOK_SECRET=""

# ----------------------------------------------------------------------------
# 功能開關
# ----------------------------------------------------------------------------
FEATURE_AI_ANALYSIS="true"
FEATURE_SEMANTIC_SEARCH="true"
FEATURE_GRAPH_QUERY="true"
FEATURE_EXPORT_PDF="true"

# ----------------------------------------------------------------------------
# 速率限制配置
# ----------------------------------------------------------------------------
RATE_LIMIT_MAX_REQUESTS="100"
RATE_LIMIT_WINDOW_MS="3600000"

# ----------------------------------------------------------------------------
# 日誌配置
# ----------------------------------------------------------------------------
LOG_LEVEL="info"
LOG_FORMAT="json"

# ----------------------------------------------------------------------------
# CORS 配置
# ----------------------------------------------------------------------------
ALLOWED_ORIGINS="http://localhost:3000,https://contracts-l1.vercel.app"

# ----------------------------------------------------------------------------
# WebSocket 配置
# ----------------------------------------------------------------------------
WS_PORT="4001"

# ----------------------------------------------------------------------------
# 佇列配置
# ----------------------------------------------------------------------------
QUEUE_CONCURRENCY="5"
QUEUE_MAX_ATTEMPTS="3"

# ----------------------------------------------------------------------------
# 成本控制
# ----------------------------------------------------------------------------
# 每個使用者月度 AI API 預算 (美元)
AI_BUDGET_FREE="0"
AI_BUDGET_STARTER="5"
AI_BUDGET_PROFESSIONAL="20"
